<div class="container">
  <div class="row">
    <h2>Reactive forms</h2>
    <form [formGroup]="form" novalidate (ngSubmit)=addUser()>
        <div class="col-md-offset-1 col-md-5">
            <div class="form-group">
              <label for="name" >Name</label>
              <input type="text" class="form-control" formControlName="name" />
            <span class="text-danger" *ngIf="form.get('name').touched && form.get('name').invalid">
              <span class="text-danger" *ngIf="form.get('name').hasError('required')">
                  Name is required!
              </span> 
              <span class="text-danger" *ngIf="form.get('name').hasError('pattern')">
                  invalid name!
              </span> 
            </span>
            </div>
            <div class="form-group">
                <label for="email"  >Email</label>
                <input type="text" class="form-control" formControlName="email" />
                <span class="text-danger" *ngIf="form.get('email').touched && form.get('email').invalid">
                    <span class="text-danger" *ngIf="form.get('email').hasError('required')">
                        email is required!
                    </span> 
                    <span class="text-danger" *ngIf="form.get('email').hasError('email') && !form.get('email').hasError('required')">
                        invalid email!
                    </span> 
                  </span>
              </div>
              <div class="form-group">
                  <label for="contact">Contact</label>
                  <input type="text" class="form-control" formControlName="contact" />
                  <span class="text-danger" *ngIf="form.get('contact').touched && form.get('contact').invalid">
                      <span class="text-danger" *ngIf="form.get('contact').hasError('required')">
                          Contact is required!
                      </span> 
                      <span class="text-danger" *ngIf="form.get('contact').hasError('minlength') && !form.get('contact').hasError('pattern')">
                          phone number must be 10 characters
                      </span> 
                      <span class="text-danger" *ngIf="form.get('contact').hasError('maxlength') && !form.get('contact').hasError('pattern')">
                          phone number must be 10 characters
                      </span> 
                      <span class="text-danger" *ngIf="form.get('contact').hasError('pattern')">
                          invalid contact, must be all numaric key
                       </span> 
                    </span>
                </div>
                <div class="form-group">
                  <label for="password">Password</label>
                  <input type="password" class="form-control" formControlName="password" />
                  <span class="text-danger" *ngIf="form.get('password').touched && form.get('password').invalid">
                      <span class="text-danger" *ngIf="form.get('password').hasError('required')">
                          Password is required!
                      </span> 
                      <span class="text-danger" *ngIf="form.get('password').hasError('minlength') && !form.get('password').hasError('required')">
                         min 4 character required!
                      </span> 
                      <span class="text-danger" *ngIf="form.get('password').hasError('maxlength') && !form.get('password').hasError('required')">
                          max 8 character required!
                       </span> 
                    </span>
                </div>
                <div class="form-group">
                    <label for="confirm">Confirm</label>
                    <input type="password" class="form-control" appPasswordCompare="password" formControlName="confirm" />
                    <span class="text-danger" *ngIf="form.get('confirm').touched && form.get('confirm').invalid">
                        <span class="text-danger" *ngIf="form.get('confirm').hasError('required')">
                            Confirm is required!
                        </span> 
                        <span class="text-danger" *ngIf="form.get('confirm').hasError('minlength') && !form.get('confirm').hasError('required')">
                           min 4 character required!
                        </span> 
                        <span class="text-danger" *ngIf="form.get('confirm').hasError('maxlength') && !form.get('confirm').hasError('required')">
                            max 8 character required!
                         </span> 
                    

                         
                      </span>
                  </div>
                <button type="submit" class="btn btn-primary" [disabled]=form.invalid>Add User</button>
          </div>
          <div class="col-md-5">
              <table class="table">
                <tr>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Contact</th>
                </tr>
        
                <tr *ngFor="let u of userList">
                  <td>{{u.name}}</td>
                  <td>{{u.email}}</td>
                  <td>{{u.contact}}</td>
                </tr>
              </table>
            </div>
    </form>
  </div>
</div>